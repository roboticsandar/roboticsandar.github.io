{"hash":"ad09b57c30394a519eea03c5f2a04ae8b3f6f46c","data":{"post":{"title":"The hierarchical localization toolbox","path":"/the-hierarchical-localization-toolbox/","date":"7. January 2019","timeToRead":1,"tags":[{"id":"Researcher","title":"Researcher","path":"/tag/Researcher/"},{"id":"Augmented Reality","title":"Augmented Reality","path":"/tag/Augmented%20Reality/"},{"id":"Localization","title":"Localization","path":"/tag/Localization/"},{"id":"CVPR 2020","title":"CVPR 2020","path":"/tag/CVPR%202020/"}],"description":"This is hloc, a modular toolbox for state-of-the-art 6-DoF visual localization. It implements Hierarchical Localization, leveraging image retrieval and feature matching, and is fast, accurate, and scalable. ","content":"<p>This is hloc, a modular toolbox for state-of-the-art 6-DoF visual localization. It implements Hierarchical Localization, leveraging image retrieval and feature matching, and is fast, accurate, and scalable. </p>\n<h2 id=\"general-pipeline\"><a href=\"#general-pipeline\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>General pipeline</h2>\n<p>The toolbox is composed of scripts, which roughly perform the following steps:</p>\n<ol>\n<li>Extract SuperPoint local features for all database and query images</li>\n<li>\n<p>Build a reference 3D SfM model</p>\n<ol>\n<li>Find covisible database images, with retrieval or a prior SfM model</li>\n<li>Match these database pairs with SuperGlue</li>\n<li>Triangulate a new SfM model with COLMAP</li>\n</ol>\n</li>\n<li>Find database images relevant to each query, using retrieval</li>\n<li>Match the query images with SuperGlue</li>\n<li>Run the localization</li>\n<li>Visualize and debug</li>\n</ol>\n<p>Github(<a href=\"https://github.com/cvg/Hierarchical-Localization\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/cvg/Hierarchical-Localization</a>) </p>\n","cover_image":{"type":"image","mimeType":"image/png","src":"/assets/static/hloc.648fc55.6414d399bfb078ead164034eb773ec78.png","size":{"width":856,"height":529},"sizes":"(max-width: 856px) 100vw, 856px","srcset":["/assets/static/hloc.a67b0b2.6414d399bfb078ead164034eb773ec78.png 480w","/assets/static/hloc.648fc55.6414d399bfb078ead164034eb773ec78.png 856w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 856 529' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-374b4b4a6c9f35ac73d94eaafd744b04'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-374b4b4a6c9f35ac73d94eaafd744b04)' width='856' height='529' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAoCAYAAABOzvzpAAAACXBIWXMAAA9hAAAPYQGoP6dpAAATaElEQVRo3s1aeXSTZb7uvfcf58yd473XOc547owbonO5juMyKiOijiMKIgUZ2Qot0IVSKEhpsSwFKmiLIo6CoyKglh1KQbpQlu5b2rRJl6Rp0yVJ93RJ16Rp0qTP/f3e9AtpC3MBPffc95z3fMmXb3uf9/k9v%2bf3fvHCLbSRkRH3dnx3Op1jtuLY0eNvtY3c5vE/ZfP6qR%2bSIICTtnU6Paq01dDWaKHVaqHRaKCqqIBKVQFNlQY1NTXQ1degs71tDLj/LwGQHqy3txednZ1oaWlBc3MzdDodDAaDe5/RaBTH9bXUIPFoLJKO7UHKyY9wOWEffjj2Po59Hoa4j9Yj4ZvtyEw%2bgNioIBzcHyvOcTocY5jmyaybdc/j7hTE2wKAB1laWoqCggI0NTWhsrISubm5UKvVUCoV0FbXQK1TQFF3EIbO49B1HENd81FoS76GpuAwtJoj0A%2beQp3pFFoq4/B1rA8%2bjt0hru0YBeBOWXCn5/3kIfBl8icIrY9A9NCX2OE8gADZbswJXIVZSzfBZ8t6fJDzPnYcjEJcTCS%2b3bcEn%2b7dLc4bHh4WIHDr6elBY2Ojm2nc29vbBdM6Ojrc%2b/h3Pq6/v9/FonHsuJXn9rpdERxPP6kPO%2bzimDPZsdjSuQ17cBh/s32DNfR9/vLVWBy4HoHLgrFzxUZELYzGsdhtOPqZDz7/eNeE%2b1VXV6OtrQ2tra1iyz0jIwMJCQnIz89375OO0ev1ty3e0m9et3LgzU72RNclfUC88jNE9cXgE91%2bxKZ8ioCEGLyz1BfLFq6E//zlCPYLw9LZW3Bg63bEfe6Dz/Z%2bgO7ubgqfauRRODVTaPGs2mw2wYqhoSHxmUNPJpOhgoSU9/M%2b6RilUolKCsNaElYW3Brq/JsnK26UscYwYOQOUpd0jow0ITkpCVcuXUF81nfYdHIbYs7vQcThDxDwxS7M8fPHTJ8gLPAJwdoloVg2KwJfRO3E8c%2bWYP/HuwmAHpr1KpQUF6OVaM3ULqbPeXl5qKurE1qjUqnElrWnvLwcZWVlYp%2bRQoO/sw5xZtGTMF%2b5fFlc41bG4OU5ELPZLOKP0ePPjD53i8Uiti7kh9yxys1utyMjPR0OpwPOYSeOJZ6Cf/RGbNy7C2s/34Z1%2b3Zihs9qTPV7F94rtmHVvHUIeCMSB3dGCwD2fbhjwoPV1taKGU9MTBQim5WVhcs0KN6yAF%2b9ehXZ2dlIS0tDVVWVAMWzlZSUoJ6Ak8KJgWPNqK%2bvR0NDg9hyRnMzgCnBzWhsQ3JyMgoLC%2bni10TcMdJMq6KiIpyjGExNTXXfkIFjAHLoYaT2fdxR%2bPqHIHxzJN7dGo5VWyMxL2QN5oevg2/wWvh6b8DMv2zH7sgonD8chHNnT08QwYGBARHfLHqcWlkAWfx4y/t5H2/5O8/04OCgO5NwK6RQqRsFoJTCg0GrrNQIVjE4OTk57pTtJc0%2bD2TQSjNvsdIDWGAZtIpY5FwvxeQAqW07nWiz2ccwIDs7y/3965jd8J72OoIXB9Ns%2byJg7lKsnrMIQbOXYJX3Aiyc4Ye3ZkUiInQdast/wIgA0jlBX27W%2bH48UJc%2bWAU7GTBmbk9PN0wmkwCnv78PVqvVfR4f19NtEsdIgDOrvaTZryHHtnffASgr6lCh0aGmrhlnz55HSPBqLFq4EF99%2bRU6je2oUpWjnmKNb97X14dh2zByc3LdN1LJ83Ep/gLyk7IgS7oGeXIaNJeyII9PQuaZJGT9kAZZSi7K8uUUNs4bptnxQHiCw4NiADrajVCryigr5KGwIF8YMi09F//OjLCJ8LW62T3Q34sGvU4wmV0pX2MMAEz/nTui8cXfj5CFbYBKXUMXbcF74eGY8corePWll7B92zZEUX977lzU1tUitzQTSo0cSSkX6Ya2m86abXiAZvt7VKvTJ/xmsZgFlTlGObQ8O88kx6onIMzEblMXykpkaGttRg3phaqiXGQSKw3oRrUK5yirbURoi8FQT1miCrUU1swCdxbopBhLSLhAwnOZFFWLOm0tWkgw1q4KwuwZr8F75kxMeuAB/Oa%2b%2b/C7yZPpQnqU6uSoNamhalZCWSNHVX2lAHLYPnx98BQudSVxyDoXhjL5ZdeMesy8SGEkUi2j6u%2bZ31mseMYkwZL0oapSDQ11HjQfV6WpFGz0bK705wKtzWTD0WQtvo/PhJFAsxOICtIDIzHai0WBb9BDF/vy71%2bR2mZQTq1GTkYmFEWFWB3gj1env4jXpr2AV55/Hn%2beNg2vTZ9OAOigrC9CqUEOmSYbCp0MCj31ehmKVYXo7enFIMWdhTSlqvgEMs9HQlVyGfxMPOtmGgjTlU0M358F6sqVK0LpWaQ45zMQDAoPVGpdJIx6Hal5YwNMXZ24di0Np8/GExAsmh2kWXUiFTbTeaz4g5Z%2bVNe3Yf/JEpxJKSZQa8UEGdtahch6cZqRLOaWyM2I2f0h4o58hy/3H8Chrw5i8Tt/xczXXoX3mzMx46UX8fTj/42X/zQVDaMMOHf1FHbs2YYP//Y%2b0opT0WrXI6c8Hen0YOfOnqUb6tBZdx7Z59%2bDsjCF0lKt8A1nTp8WlGSB5ZjlHM5qzUDw4BUKhdjPoTEeADXpUHNTI9rpmdPS06ino6xCRWKcCbm8EHl0vobSY2mZUviL6mo1ZIVyMeNaqlD5msw6Dic3AzgtBAcFIjgwEH5LffDm669j/Zq1WDB/PubP86Z9S/CX6dMwZfIkTHvuWULXQEUPCUpbGSqaSqgXCxYUVxegorpMqLUrBIahLvgWmQkR0FOYeAoeCxHTnJnAKs4gcF5nt8eTwg/IDGBld4cq7S8vVaCJJiA/L1sYoDp9gwAtlfxBjUaN3sYawTApLepJ/JISz4t7lJYqafYplVIZ3tnV4QKAH4gRefaPT8P7rVl46onHMfnhB2n7BF4m%2bk/70/OY%2bswz%2bMOjj%2bKxyY/gj08/IzRAUV8ITXsZAVGIUi3Rq6F2Qiyy0DRWJcOgzZ%2bg8LzlfM0s4Fhm%2brP5OXfunACBxZFBkYodbswK1iumPw%2bqvLwUKsrxqakpSCaPUpn0LfTHdkB%2b%2bSxUZIK01RohepevpBJTMgRD%2bJms1kH09vXCi4uLrq4uEhcz1q9fj1/ecw%2bee%2bpJTH7wQfznr%2b/DL//j3/Hzn92FX/z8X3Hfvffiid8/gTden4lGomB%2baTaqdJXooNhzOpx3VI4yU3iGeaYZBGldgbccluxIPRunLqYws6a6qhKZmZRWC4uQmX6VfAzVDc0a6JO/QU2pDI3NLdCoVSguImNE4cZ%2b5QoBZSBGNDc3icnyYnSlm/DFMzPTUVQog5xOUhQXQUZ5Nj%2bPRCk/l/I95XZZPpQUn6zG3IeHHYJqTFcr5V3JPo/t1tF%2bfR8fz1vJ2EjbYrlcUJVV/LrhuX4eM6Cjo10YskES08LCAhH76ooyZGVm0uccIegdJHIDZIY4K9XX16GfBttCk8Z6Uk2sKC8rFdfw4gtKD2Lq6qYLlpL/LkZOrgJ5%2bQpCt9TdC4vKCQAFIaoQoA30EwD2UQDstjGDG99v9hvv49nkzs9QQIxkRvBn3ucJlqhRCHSeuUZS%2bD6aPDZEehogh0v8mTOU36tdodJUBUtNEXrMQzT4XjreILJHF4GnprApKZaT2x2EVzopKFOKW0GBAvfcPQmPP/wIfvurSfjZXQ/By%2bsB6pOoT4bXPz9G2/spTB4jEXSFgKZeTSHQDsew8ydZo/vhwoUxqj%2b%2bucCWwLGKVMtGR1FSLKpCSSfsxEyzMgV9Ha0YorRnoQljO8xMMFHIM5jMMi9OO1LpmJ1bgif/6w9YOftpBHk/ixeemCIG/E//8lvcfffDmPLIo7jrFw/jnl89LgBQukVQBmW1HHWG2jGmxbOZ%2b03o6zVJ3naMBnAYcjjxA3L649iXPL5U6Iw1OKTuIxQeZCocdCknXa%2bxpc2jSnVd39nTCkdN3j9eEZJTzEkMyMlTYMa0qQie8xSWz3gKs6dOweSHHsIj99%2bH5x%2b/H1OnPEDff4OHyRFyamEjxGlQ1aSAupXcoKEQxdoClFcpBWXFw9Kz9HYZUJaxByV58aOZwRXv/DuXq2yGuOhi4yItebG35/38O2uCNPt2KsdNvRa0dg3CYenFUEeDcHaOzgZxT0g22OkCw1aVDUdfh9uBjrfKXpkkHBIAHP8r3v4zIpa%2biFVznsf6xX/B9o0BiFjri8Alb%2bLNl5/GM797EM/9/lGRBsv0xWOMUDobIZseueOMUL3iEPKTd6O3m%2bJPXSmM0OlTp8QKjoEGzbX9iRMnhC3mEpydID8XZyj2CSJF0vekxCQxu6myVhTVUaVXnQab6hqcHeQl8o5iaNjhBkBimdNqpt%2bOEWHsN1z48WLx6CcxExpQqMSSWdOwM%2bQtbA6ajejQuQgLmIfgZXMQEfJXxEQHI2jRS1jr/waamhtd%2bV9fhAKywnKiWkl9AUooHErUckFraSGl36SHddCVy%2b2j4ifilISTjQ93fl/Apoa9P3sTXodgF8f7WBRdudsqGGDsMqOxYxDOgS4MtdVTRUoi2qQRxRBGB%2b8Jgl1XTED0j2GBe0XIE5VyVSVW%2bHjj0x3%2b2B%2bzHicORmNv9EZEhEdgnf878Fk8G2/Pewr%2bvi9StWYQIVBDxRA7wdJaOap1mjGegL08L2vl5lFalReL7%2bMbh4HFMigengfoUnyb%2bM4giUHd4PULd45/0TnUxh0xREAJMR2Rjr7xgqnX9ZIRwnUFByzB2sAVePMtb6wJWYHV/t54afqTuP/eu/HClF8jePq/IWzOJLQ2G5Cj5HK4mMrhRJoZ%2b1jRG11eY%2bvqWuhsEIzwvJ/JRNUcMand2Er2tAXt1I3jeiepeH%2bfyV3WuhY%2begQr%2bii9cWE1MNBPgzUJ0RyyDrlH3NHVA4vVcn3QpAsj3c0YGbaNY4C0JkAz9P3hQzgWF4evvz6ItGuXkEH9XPxpxMUdQcr5UyhJPILy1ONEabMIHfYB0oKItALLjZfROI5ZZJnGnG55qY2BEELosCDucCw2hS3F9s0BiIqUeqDo2yKDsCsqBEHL52Hju6tcM04iWFZaRiamgvyCTLyI0VbVIDszh8xbMd2rCPmFuTToPlBQoKVWiaZqAzoHHDCaBqFpsJBL/A5OQ4l7JcrLk4pSMxF1eLZ6KWeazRayyiZKb31o7%2byaQCWxJJaVNcHnc8x6mhlJD7h1k3kx5H0Hi%2boI7JoTGNQcw0Dl9W5WH4e5grbak7h0YhPWBPm572e1WWAd7segnZ7N1o1OSwOM/XXoMOvROWgQnzst9HmoCa0GDUytXTD2DqOuqR/aFit0mhqqx7tHAfDQAOnB2UbyTLEYVVSUCxspzSYXKv2i2BkR6EkASIui/%2bvbmFGQDZeScdBvAfaE%2bOHbAF9cWhkMWdAayANDURAUgsy1q5AbuhrXokORcHIVNm3zpcHpxAC7rA3oGt3y4LNlV9Ez2IYeWwv6bR2wOsii27vEb409amhzs6FrojCxDqPBaHZP4IT3Arf1BnickZEAkHL7zbpjtETWpyYidOFszPJfh1mB4YhetxIpWwiMzUtxaLcPDny0DPGRfrjw0WoKv0BsiVqG3qE29NnaaWtEz1ArddIHcwMyZEnoMlNhYzOi29pM4DSK46zDZhg7WsiDdBD9bZCpuzA45PCwSbjxi5HbfSvEqu25LH4rTZt6EcsXzcXS5Suxcs0yhG/wRUyEL8I3e%2bP9fSsQvW8Dtm9dgf27VuJiQhB2x/ihaUCNxoEKtA5UCQZ0DzULADJlyTBZmkcBaIHJ2ugKBStVfMocNOhMKKvvQ0PrAMoNg2hW5GGko26iBtwpALy9THU4V3H8ZudmXUG5vYBS4uWraShKPI3FSxZgmf8K%2bK1ajNCA1YhYswuRUZuwa9972B6zFe/vCccnB9Yj8VwQYmP80WNtE9TuG2ofZUAr0bwRGQVJAgD%2bzWInZ%2bgww%2b6gdOq0wtjahMqaTjR2DqOxfQja5iG0ZSWQ2mvcltzrTosWTzBY4KS3t7xYccNOv7VRidrd04usxLOYt3gRZgaGYe7GNYiIDEfkhi0IC4tC9IfbsP2LHQiK2YHNn24WAOz6wAcdFp0r7jn%2bBxvETLebdcguToFxoB6dVoM4pt1ST/upOrTroS/LQW1FA8qrddBU10FvaKQyuZnE3PXuQBRDP7Z6u5P38mmpKXhzkT8WBG3HwtCdCN%2b6CxsiYrHu3VhseDcSQeHvwTfsPWzeFYlrJ0NwcG%2bkp/9xB7HdNoxTx0%2bJVDwhuOlzJ5X3Tiqa1OQyi6n85cXSCpXrvwxcY/woAMaHw610To3cElPT8DYBEOYTjJCFAfD1D8WytWEIXBGKoHd84bdwGd5esRqr1q6EPP0z9xueG4HNlazD6ZjwNx0uuKSFnjajUbw0YT9SW1sjBs%2brYLf1B4mfokleQ1OhwgkyWgmHD%2bPkwUM4fzwBx8%2beQvzJs7gQdwInDx3Hye8SEH88HgP9PaPnSguceqRnpOPatWu4ePGieHnKL0u5p6SkuN/5eYLF4cfVJp/La5C8Gs1V5/85AHcaMp5s49UgHgQPiF9xcSzzYLig4mpSKp1v5V3jyI8RwR8z%2bBGny9byH6McojtdBY3DKfa5uuv7%2bHeEt/uPFk8wnM6JL2H/B4eFmvchFGLqAAAAAElFTkSuQmCC' /%3e%3c/svg%3e"},"headings":[{"value":"General pipeline","depth":2,"anchor":"#general-pipeline"}]}},"context":{}}